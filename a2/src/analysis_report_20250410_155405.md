# Wireless Network Handover Analysis Report
Generated on: 2025-04-10 15:54:05

## Overview
This report analyzes the performance of a wireless network handover simulation with two access points (AP A and AP B) using NS-3. The simulation investigates network performance during user migrations between APs, with particular focus on throughput dynamics and distribution effects.

## Simulation Parameters
- **Total simulation time**: 180 seconds
- **First migration** (t=60s): 4 users A→B, 8 users B→A
- **Second migration** (t=120s): 10 users A→B, 6 users B→A
- **Traffic Model**: Full-queue UDP traffic with 1400-byte packets

## User Distribution Analysis
|    | Time   | Users at AP A | Users at AP B | Total Users | Distribution Ratio | User Migration |
|---:|:-------|-------------:|-------------:|------------:|:-------------------|:---------------|
|  0 | t=0s   | 16 | 16 | 32 | 16:16 | Initial state |
|  1 | t=60s  | 20 | 12 | 32 | 20:12 | 4 users A→B, 8 users B→A |
|  2 | t=120s | 16 | 16 | 32 | 16:16 | 10 users A→B, 6 users B→A |

*Source: [User Distribution Data](/home/ming/multimedia-wireless-networks/a2/src/user_distribution.csv)*

## Key Performance Metrics
- **Average Throughput**
  - AP A: 11.23 Mbps
  - AP B: 13.53 Mbps
  - Combined: 24.76 Mbps
- **Peak Throughput**
  - AP A: 15.74 Mbps (at t=28s)
  - AP B: 21.86 Mbps (at t=160s)
- **Throughput Stability (Standard Deviation)**
  - AP A: 2.27
  - AP B: 4.58
- **Phase-specific Analysis**
  - Initial phase (0-60s): Balanced throughput (AP A: ~13.9 Mbps, AP B: ~13.8 Mbps)
  - First migration phase (60-120s): Reduced throughput (AP A: ~10.7 Mbps, AP B: ~8.4 Mbps)
  - Second migration phase (120-180s): Divergent throughput (AP A: ~9.5 Mbps, AP B: ~18.7 Mbps)

## Throughput Analysis by Phase

### Initial Phase (0-60s)
During the initial phase with balanced user distribution (16:16), both APs demonstrate comparable and stable throughput:
- AP A: Average throughput of 13.94 Mbps with standard deviation 0.86 Mbps
- AP B: Average throughput of 13.86 Mbps with standard deviation 0.91 Mbps
- Throughput ratio (A:B): ~1:1
- Stable performance with minimal oscillation indicates effective load balancing

### First Migration Phase (60-120s)
After the first handover resulting in asymmetric distribution (20:12):
- AP A: Average throughput decreases to 10.67 Mbps (23.5% reduction) despite increased users
- AP B: Average throughput decreases to 8.44 Mbps (39.1% reduction)
- Throughput ratio (A:B): ~1.26:1
- The counter-intuitive throughput reduction at AP A despite increased users suggests increased contention and interference

### Second Migration Phase (120-180s)
Following the second handover returning to balanced distribution (16:16):
- AP A: Average throughput further decreases to 9.53 Mbps (31.6% lower than initial phase)
- AP B: Average throughput significantly increases to 18.73 Mbps (35.1% higher than initial phase)
- Throughput ratio (A:B): ~1:1.97
- Notable throughput divergence despite identical user distribution compared to initial phase

## Visualization Results
![Combined Throughput](plots/throughput_combined.png)
![Throughput Distribution](plots/throughput_distribution.png)

## Anomaly Analysis: Performance Divergence
Despite returning to the original balanced 16:16 user distribution at t=120s, the network exhibits strikingly different performance compared to the initial state with the same distribution:
1. **Spatial Distribution Effects**: Users have different spatial positioning after mobility
2. **Resource Allocation Asymmetry**: Prior unbalanced phase created persistent effects
3. **MAC Layer State Persistence**: Contention windows and back-off mechanisms show memory effects
4. **Cross-AP Interference**: Users who moved create unique interference patterns
5. **Queue Dynamics**: Buffer states differ significantly from initial conditions

## Conclusions
1. The network demonstrates path dependency, where identical user distributions produce different performance based on system history
2. User migrations create persistent effects beyond the mobility events themselves
3. Total network capacity fluctuates significantly during and after handover processes
4. The final balanced state (16:16) shows AP B throughput dominance despite equal user counts
5. Network designers should consider historical state when implementing load balancing algorithms

## Data Sources
- [User Distribution Data](/home/ming/multimedia-wireless-networks/a2/src/user_distribution.csv)
- [Throughput Data](/home/ming/multimedia-wireless-networks/a2/src/throughput.csv)
- [Simulation Log](/home/ming/multimedia-wireless-networks/a2/src/wifi-execute.log)
